/* Universal Icon Button Component - Material Design 3 */

.icon-button {
  /* Base circular icon button styles */
  width: calc(var(--md-sys-spacing-base) * 10); /* 2.5rem responsive */
  height: calc(var(--md-sys-spacing-base) * 10); /* 2.5rem responsive */
  padding: 0;
  border: 1px solid var(--md-sys-color-outline-variant);
  border-radius: var(--md-sys-shape-corner-full);
  background-color: var(--md-sys-color-surface-container);
  color: var(--md-sys-color-on-surface);
  font-family: var(--md-sys-typescale-font-family-plain);
  cursor: pointer;
  user-select: none;
  
  /* Perfect centering for icons */
  display: flex;
  align-items: center;
  justify-content: center;
  
  /* Smooth transitions */
  transition: 
    background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard),
    border-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard),
    box-shadow var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard),
    transform var(--md-sys-motion-duration-short2) var(--md-sys-motion-easing-standard);
  
  /* Accessibility */
  position: relative;
  overflow: hidden;
}

/* Size variants using responsive units */
.icon-button--small {
  width: calc(var(--md-sys-spacing-base) * 8); /* 2rem */
  height: calc(var(--md-sys-spacing-base) * 8); /* 2rem */
}

.icon-button--medium {
  width: calc(var(--md-sys-spacing-base) * 10); /* 2.5rem */
  height: calc(var(--md-sys-spacing-base) * 10); /* 2.5rem */
}

.icon-button--large {
  width: calc(var(--md-sys-spacing-base) * 12); /* 3rem */
  height: calc(var(--md-sys-spacing-base) * 12); /* 3rem */
}

/* Style variants */
.icon-button--filled {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  border-color: transparent;
}

.icon-button--filled:hover {
  background-color: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
}

.icon-button--secondary {
  background-color: var(--md-sys-color-secondary-container);
  color: var(--md-sys-color-on-secondary-container);
  border-color: transparent;
}

.icon-button--secondary:hover {
  background-color: var(--md-sys-color-secondary);
  color: var(--md-sys-color-on-secondary);
}

.icon-button--outlined {
  background-color: transparent;
  border-color: var(--md-sys-color-outline);
}

.icon-button--outlined:hover {
  background-color: var(--md-sys-color-surface-container-low);
  border-color: var(--md-sys-color-primary);
}

.icon-button--text {
  background-color: transparent;
  border-color: transparent;
  color: var(--md-sys-color-primary);
}

.icon-button--text:hover {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
}

/* Icon styling - perfectly centered */
.icon-button__icon {
  font-size: calc(var(--md-sys-typescale-title-medium-font-size) * 0.875);
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.icon-button--small .icon-button__icon {
  font-size: calc(var(--md-sys-typescale-body-large-font-size) * 0.875);
}

.icon-button--large .icon-button__icon {
  font-size: calc(var(--md-sys-typescale-headline-small-font-size) * 0.875);
}

/* Interactive states */
.icon-button:hover {
  background-color: var(--md-sys-color-surface-container-high);
  box-shadow: var(--md-sys-elevation-level1);
  transform: translateY(-1px);
}

.icon-button:focus-visible {
  outline: 2px solid var(--md-sys-color-primary);
  outline-offset: 2px;
  box-shadow: var(--md-sys-elevation-level2);
}

.icon-button:active {
  transform: translateY(0);
  box-shadow: var(--md-sys-elevation-level1);
}

/* Ripple effect */
.icon-button::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background-color: var(--md-sys-color-on-surface);
  opacity: 0;
  transform: translate(-50%, -50%);
  transition: width var(--md-sys-motion-duration-short4), 
              height var(--md-sys-motion-duration-short4), 
              opacity var(--md-sys-motion-duration-short4);
}

.icon-button:active::after {
  width: 100%;
  height: 100%;
  opacity: var(--md-sys-state-pressed-opacity);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .icon-button {
    border-width: 2px;
    border-color: var(--md-sys-color-outline);
  }
  
  .icon-button:focus-visible {
    outline-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .icon-button,
  .icon-button::after {
    animation: none;
    transition: none;
  }
}

/* Mobile touch improvements */
@media (pointer: coarse) {
  .icon-button {
    width: calc(var(--md-sys-spacing-base) * 11); /* 2.75rem */
    height: calc(var(--md-sys-spacing-base) * 11); /* 2.75rem */
  }
  
  .icon-button--small {
    width: calc(var(--md-sys-spacing-base) * 9); /* 2.25rem */
    height: calc(var(--md-sys-spacing-base) * 9); /* 2.25rem */
  }
  
  .icon-button--large {
    width: calc(var(--md-sys-spacing-base) * 12); /* 3rem */
    height: calc(var(--md-sys-spacing-base) * 12); /* 3rem */
  }
}